<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE JobConfiguration PUBLIC "" "JobConfig.dtd"[

<!-- Generic Value -->
<!ENTITY NEVT                       "-1">
<!ENTITY CACHEABLE                  "False">
<!ENTITY OUTDIR											"/nfs/dust/cms/user/amalara/sframe_all/DiJetJERC_DiJetHLT/">

<!-- Jet Variables -->
<!ENTITY JEC_VERSION                "Autumn18_V4">
<!ENTITY JETLABEL                   "AK4CHS">   <!-- AK4CHS - AK4PUPPI --> <!-- AK8CHS - AK8PUPPI -->

<!-- JERC -->
<!ENTITY JECSMEAR_DIRECTION         "nominal">  <!--nominal/down/up -->
<!ENTITY JERSMEAR_DIRECTION         "nominal">  <!--nominal/down/up -->
<!ENTITY jec_closuretest            "true">     <!-- should be true for JER and false for JEC -->
<!ENTITY DO_JERSMEAR                "false">  <!--false/true -->

<!-- Trigger -->
<!ENTITY TRIGGER_CENTRAL            "true">     <!--Trigger Flag -->
<!ENTITY TRIGGER_FWD                "true">    <!--Trigger Flag -->



<!-- Permanent vars and cleaning cuts -->
<!ENTITY APPLY_EtaPhi_cut    "true">   <!--Apply Eta Phi cleaning to remove spike jets due to miscalibrated ECAL cells -->
<!ENTITY APPLY_EtaPhi_HCAL   "true">
<!ENTITY Cut_PATH            "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/DiJetJERC/hotjets/">
<!ENTITY APPLY_LUMIWEIGHTS   "true">
<!ENTITY APPLY_UNFLATTENING  "false">
<!ENTITY APPLY_PUid_3rdjet "false">
<!ENTITY APPLY_L1SEED_FROM_BX1_FILTER  "false"> <!-- For L1Seed studies in 2017 data -->


<!-- MC PuReweighting -->
<!ENTITY DO_PU_REWEIGHTING          "true">     <!-- true, false -->
<!ENTITY SYSTYPE_PU                 "central">  <!-- central, up, down -->
<!ENTITY PILEUP_DIRECTORY           "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/data/2018/MyMCPileupHistogram.root">
<!ENTITY PILEUP_DIRECTORY_DATA      "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/data/2018/MyDataPileupHistogram2018.root">
<!ENTITY PILEUP_DIRECTORY_DATA_UP   "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/data/2018/MyDataPileupHistogram2018_72383.root">
<!ENTITY PILEUP_DIRECTORY_DATA_DOWN "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/data/2018/MyDataPileupHistogram2018_66017.root">

<!-- MC Samples -->
<!ENTITY QCD_Flat2018   		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_Flat2018_TMP.xml">
<!ENTITY QCD_Flat   				SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_Flat.xml">
<!ENTITY QCDHT50to100   		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT50to100_madgraph.xml">
<!ENTITY QCDHT100to200  		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT100to200_madgraph.xml">
<!ENTITY QCDHT200to300  		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT200to300_madgraph.xml">
<!ENTITY QCDHT300to500  		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT300to500_madgraph.xml">
<!ENTITY QCDHT500to700  		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT500to700_madgraph.xml">
<!ENTITY QCDHT700to1000 		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT700to1000_madgraph.xml">
<!ENTITY QCDHT1000to1500		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT1000to1500_madgraph.xml">
<!ENTITY QCDHT1500to2000		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT1500to2000_madgraph.xml">
<!ENTITY QCDHT2000toInf 		SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/MC_QCD_HT2000toInf_madgraph.xml">

<!-- Data Samples -->
<!ENTITY DATA_RunA_2018			SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/DATA_JetHT2018A.xml">
<!ENTITY DATA_RunB_2018			SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/DATA_JetHT2018B.xml">
<!ENTITY DATA_RunC_2018			SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/DATA_JetHT2018C.xml">
<!ENTITY DATA_RunD_2018			SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/datasets/RunII_102X_v1/2018/DATA_JetHT2018D.xml">


]>


<!--
<ConfigParse NEventsBreak="0" FileSplit="100" AutoResubmit="5"/>
<ConfigSGE RAM ="2" DISK ="2" Mail="andrea.malara@desy.de" Notification="as" Workdir="workdir_DiJetJERC_DiJetHLT"/>
-->

<!-- OutputLevel controls which messages are printed; set to VERBOSE or DEBUG for more verbosity, to WARNING or ERROR for less -->
<JobConfiguration JobName="ExampleCycleJob" OutputLevel="INFO">
  <Library Name="libSUHH2DiJetJERC"/>
  <Package Name="SUHH2DiJetJERC.par" />

  <Cycle Name="uhh2::AnalysisModuleRunner" OutputDirectory="&OUTDIR;/" PostFix="" TargetLumi="59740" >
    <!-- <Cycle Name="uhh2::AnalysisModuleRunner" OutputDirectory="&OUTdir;/" PostFix="" TargetLumi="59740" RunMode="PROOF" ProofServer="lite://" ProofWorkDir="&PROOFdir;/" ProofNodes="15" > -->

    <!-- MC -->
    <InputData Type="MC" Version="QCD_Flat"						Lumi="1.9882"         NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCD_Flat;						<InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCD_Flat2018"				Lumi="1.5130995"      NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCD_Flat2018;				<InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>

    <InputData Type="MC" Version="QCDHT50to100"       Lumi="0.2291325801"   NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT50to100;        <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT100to200"      Lumi="3.663204922"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT100to200;       <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT200to300"      Lumi="37.15909788"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT200to300;       <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT300to500"      Lumi="174.7762231"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT300to500;       <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT500to700"      Lumi="1854.82666"     NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT500to700;       <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT700to1000"     Lumi="8077.614559"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT700to1000;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT1000to1500"    Lumi="14871.46169"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT1000to1500;     <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT1500to2000"    Lumi="105185.1375"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT1500to2000;     <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDHT2000toInf"     Lumi="259451.9961"    NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &QCDHT2000toInf;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>

    <!-- DATA -->
    <InputData Type="DATA" Version="DATA_RunA_2018"   Lumi="13480"          NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &DATA_RunA_2018;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunB_2018"   Lumi="6785"           NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &DATA_RunB_2018;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunC_2018"   Lumi="6612"           NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &DATA_RunC_2018;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunD_2018"   Lumi="31950"          NEventsMax="&NEVT;" Cacheable="&CACHEABLE;">  &DATA_RunD_2018;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>

    <UserConfig>
      <!-- define which collections to read from the input. Only specify what you need to save I/O time -->
      <Item Name="PrimaryVertexCollection"    Value="offlineSlimmedPrimaryVertices" />
      <Item Name="ElectronCollection"         Value="slimmedElectronsUSER" /> <!-- change depending on 2016 MC or 17 data!!! -->
      <Item Name="MuonCollection"             Value="slimmedMuonsUSER" />
      <Item Name="JetCollection"              Value="jetsAk4CHS" />
      <Item Name="METName"                    Value="slimmedMETs" />
      <Item Name="genMETName"                 Value="slimmedMETs_GenMET" />
      <Item Name="GenParticleCollection"      Value="GenParticles"/>
      <Item Name="GenJetCollection"           Value="slimmedGenJets"/>




      <!-- tell AnalysisModuleRunner NOT to use the MC event weight from SFrame; rather let
      MCLumiWeight (called via CommonModules) calculate the MC event weight. The MC
      event weight assigned by MCLumiWeight is InputData.Lumi / Cycle.TargetLumi. -->
      <Item Name="use_sframe_weight"					Value="false"/>

      <Item Name="lumi_file"									Value="/nfs/dust/cms/user/amalara/WorkingArea/UHH2_102X_v1/CMSSW_10_2_10/src/UHH2/common/data/2018/Cert_314472-325175_13TeV_PromptReco_Collisions18_JSON.root"/>
      <Item Name="lumihists_lumi_per_bin"			Value="250." />

      <Item Name="Apply_Lumiweights"  Value="&APPLY_LUMIWEIGHTS;"/>
      <Item Name="Apply_Unflattening" Value="&APPLY_UNFLATTENING;"/>
      <Item Name="EtaPhi_cut" Value="&APPLY_EtaPhi_cut;"/>
      <Item Name="EtaPhi_HCAL" Value="&APPLY_EtaPhi_HCAL;"/>
      <Item Name="Cut_dir"  Value="&Cut_PATH;"/>

      <Item Name="Apply_L1Seed_From_BX1_Filter" Value="&APPLY_L1SEED_FROM_BX1_FILTER;"/>
      <Item Name="Apply_PUid_3rdjet" Value="&APPLY_PUid_3rdjet;"/>

      <Item Name="L1METptThresh" Value="15" />
      <Item Name="eta_thresh_low" Value="6." />
      <Item Name="minJetPt" Value="10" />
      <Item Name="minGenJetPt" Value="15" />
      <Item Name="qScale" Value="1.5" />
      <Item Name="MCgenerator" Value="Pythia8" />
      <!--         <Item Name="MCgenerator" Value="Herwig" /> -->

      <!-- Jet Variables -->
      <Item Name="JEC_Version"                Value="&JEC_VERSION;"/>
      <Item Name="JetLabel"                   Value="&JETLABEL;"/>

      <!-- JERC -->
      <!--used only in UHH2/common/include/JetCorrections.cxx -->
      <Item Name="jecsmear_direction"         Value="&JECSMEAR_DIRECTION;"/>
      <Item Name="jersmear_direction"         Value="&JERSMEAR_DIRECTION;"/>
      <Item Name="JECClosureTest"             Value="&jec_closuretest;"/>
      <Item Name="DO_JERSMEAR"                Value="&DO_JERSMEAR;"/>

      <!-- Triggers -->
      <Item Name="Trigger_Central"            Value="&TRIGGER_CENTRAL;"/>
      <Item Name="Trigger_FWD"                Value="&TRIGGER_FWD;"/>
      <Item Name="trigger40"                  Value="HLT_DiPFJetAve40_v*"/>
      <Item Name="trigger60"                  Value="HLT_DiPFJetAve60_v*"/>
      <Item Name="trigger80"                  Value="HLT_DiPFJetAve80_v*"/>
      <Item Name="trigger140"                 Value="HLT_DiPFJetAve140_v*"/>
      <Item Name="trigger200"                 Value="HLT_DiPFJetAve200_v*"/>
      <Item Name="trigger260"                 Value="HLT_DiPFJetAve260_v*"/>
      <Item Name="trigger320"                 Value="HLT_DiPFJetAve320_v*"/>
      <Item Name="trigger400"                 Value="HLT_DiPFJetAve400_v*"/>
      <Item Name="trigger500"                 Value="HLT_DiPFJetAve500_v*"/>

      <Item Name="trigger60_HFJEC"            Value="HLT_DiPFJetAve60_HFJEC_v*"/>
      <Item Name="trigger80_HFJEC"            Value="HLT_DiPFJetAve80_HFJEC_v*"/>
      <Item Name="trigger100_HFJEC"           Value="HLT_DiPFJetAve100_HFJEC_v*"/>
      <Item Name="trigger160_HFJEC"           Value="HLT_DiPFJetAve160_HFJEC_v*"/>
      <Item Name="trigger220_HFJEC"           Value="HLT_DiPFJetAve220_HFJEC_v*"/>
      <Item Name="trigger300_HFJEC"           Value="HLT_DiPFJetAve300_HFJEC_v*"/>

      <!-- MC PuReweighting -->
      <Item Name="DO_Pu_ReWeighting"          Value="&DO_PU_REWEIGHTING;"/>
      <Item Name="SysType_PU"                 Value="&SYSTYPE_PU;"/>
      <Item Name="pileup_directory"           Value="&PILEUP_DIRECTORY;"/>            <!--used only in UHH2/common/include/MCWeight.h -->
      <Item Name="pileup_directory_data"      Value="&PILEUP_DIRECTORY_DATA;"/>       <!--used only in UHH2/common/include/MCWeight.h -->
      <Item Name="pileup_directory_data_up"   Value="&PILEUP_DIRECTORY_DATA_UP;"/>    <!--used only in UHH2/common/include/MCWeight.h -->
      <Item Name="pileup_directory_data_down" Value="&PILEUP_DIRECTORY_DATA_DOWN;"/>  <!--used only in UHH2/common/include/MCWeight.h -->


      <Item Name="Debug" Value="false" />

      <!-- the class name of the AnalysisModule subclasses to run: -->
      <Item Name="AnalysisModule"             Value="AnalysisModule_DiJetTrg" />

    </UserConfig>
  </Cycle>
</JobConfiguration>
